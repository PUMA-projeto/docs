# üìÑ Documento de Refinamento T√©cnico ‚Äì Forma√ß√£o de Times e Gest√£o de Entregas

## üîó Contexto

O sistema permite a gest√£o de forma√ß√£o de times acad√™micos vinculados a projetos, bem como o acompanhamento e a entrega de atividades parciais e finais dos alunos.

---

## üéØ Funcionalidades do M√≥dulo de Times

| Funcionalidade                     | Descri√ß√£o T√©cnica                                                                 |
| ---------------------------------- | --------------------------------------------------------------------------------- |
| Levantamento de Prefer√™ncias       | Tela que exibe o status dos formul√°rios preenchidos pelos alunos.                 |
| Gera√ß√£o Autom√°tica de Times        | Algoritmo que aloca alunos nos projetos, baseado nas prefer√™ncias coletadas.      |
| Edi√ß√£o Manual de Aloca√ß√£o          | Permite que professores alterem a aloca√ß√£o dos alunos entre os projetos (Trocar). |
| Confirma√ß√£o de Times               | Confirma a forma√ß√£o dos times e bloqueia altera√ß√µes posteriores.                  |
| Visualiza√ß√£o do Meu Time (Aluno)   | Cada aluno visualiza seu time, membros, projeto e stakeholder.                    |
| Visualiza√ß√£o dos Times (Professor) | O professor acessa todos os times, projetos, stakeholders e seus membros.         |
| Relat√≥rios dos Times               | Gera√ß√£o de relat√≥rios sobre status e composi√ß√£o dos times.                        |

---

## üéØ Funcionalidades do M√≥dulo de Entregas

| Funcionalidade                   | Descri√ß√£o T√©cnica                                                                                   |
| -------------------------------- | --------------------------------------------------------------------------------------------------- |
| Criar Nova Entrega               | Formul√°rio para envio de entrega parcial ou final, com campos de t√≠tulo, descri√ß√£o e categoria.     |
| Sele√ß√£o de Tipo de Envio         | Upload de arquivo ou envio de link externo (ex.: site, drive, reposit√≥rio).                         |
| Categoriza√ß√£o                    | Permite selecionar a categoria da entrega (ex.: Apresenta√ß√£o, Relat√≥rio, Produto, Documenta√ß√£o).    |
| Relacionamento com Etapas        | Define se a entrega corresponde a uma etapa parcial espec√≠fica ou √† entrega final.                  |
| Visualiza√ß√£o de Entregas         | Alunos e professores podem visualizar todas as entregas realizadas, organizadas por time e projeto. |
| Hist√≥rico e Controle de Entregas | Mant√©m hist√≥rico com datas, vers√µes, tipos e arquivos entregues.                                    |
| Feedback e Avalia√ß√£o             | Professores podem avaliar, solicitar ajustes e fornecer feedback sobre as entregas.                 |

---

## üèóÔ∏è Arquitetura Funcional do M√≥dulo

```plaintext
                        +-----------------------------+
                        |          Usu√°rio            |
                        +-----------------------------+
                                   ‚Üì
                 +-------------------------------------------+
                 |               Interface Web              |
                 | - P√°gina de Prefer√™ncias                 |
                 | - Forma√ß√£o de Times                      |
                 | - Meu Time                               |
                 | - Realizar Entrega                       |
                 | - Acompanhar Entregas                    |
                 +-------------------------------------------+
                                   ‚Üì
                +--------------------------------------------------+
                |                 API Gateway                      |
                | - Gerenciamento de Autentica√ß√£o                  |
                | - Gerenciamento de Permiss√µes e Perfis           |
                +--------------------------------------------------+
                                   ‚Üì
        +---------------------------------------------------------------+
        |                         Servi√ßos Backend                      |
        |                                                               |
        | +----------------------+   +-------------------------------+ |
        | | Servi√ßo de Times      |   | Servi√ßo de Entregas           | |
        | | - Prefer√™ncias        |   | - Upload                      | |
        | | - Gera√ß√£o de Times    |   | - Hist√≥rico de Entregas       | |
        | | - Edi√ß√£o e Troca      |   | - Avalia√ß√£o e Feedback        | |
        | | - Relat√≥rios          |   | - Visualiza√ß√£o e Download     | |
        | +----------------------+   +-------------------------------+ |
        +---------------------------------------------------------------+
                                   ‚Üì
                  +---------------------------------------------+
                  |              Banco de Dados                 |
                  | - Users                                     |
                  | - Times                                     |
                  | - Projetos                                  |
                  | - Entregas                                  |
                  | - Prefer√™ncias                              |
                  +---------------------------------------------+
```

---

## üóÑÔ∏è Entidades Principais

| Entidade        | Atributos                                                                                        |
| --------------- | ------------------------------------------------------------------------------------------------ |
| **Time**        | id, projeto_id, membros[], status                                                                |
| **Projeto**     | id, t√≠tulo, stakeholder, categoria                                                               |
| **Entrega**     | id, time_id, tipo (parcial/final), categoria, t√≠tulo, descri√ß√£o, link_ou_arquivo, data_envio     |
| **Usu√°rio**     | id, nome, matr√≠cula, papel (Aluno, Professor, Admin), email                                      |
| **Prefer√™ncia** | id, usuario_id, respostas[], status (pendente/conclu√≠do)                                         |

---

## üîê Permiss√µes

| Papel         | A√ß√µes Permitidas                                                                                       |
| ------------- | ------------------------------------------------------------------------------------------------------ |
| **Aluno**     | Preencher prefer√™ncias, visualizar time, realizar entregas, visualizar feedback                        |
| **Professor** | Gerenciar times, trocar membros, validar entregas, fornecer feedback, gerar relat√≥rios de time/entrega |
| **Admin**     | Visualizar e editar qualquer informa√ß√£o para suporte e auditoria                                       |

---

## üîÑ Fluxo de Forma√ß√£o de Times

```plaintext
1. Professor inicia levantamento de prefer√™ncias.
2. Alunos preenchem o formul√°rio de prefer√™ncia de projetos.
3. O sistema verifica o status:
   - Se todos preencheram ‚Üí habilita "Formar Times".
   - Se n√£o ‚Üí permite "Formar Times" mesmo assim (com aviso).
4. Algoritmo gera os times baseado nas prefer√™ncias.
5. Professor pode:
   - Aceitar.
   - Trocar membros manualmente.
6. Professor confirma a forma√ß√£o ‚Üí Times ficam fixos.
7. Alunos acessam "Meu Time" para visualizar.
```

---

## üì¶ Fluxo de Gest√£o de Entregas

```plaintext
1. Aluno seleciona se √© entrega parcial ou final.
2. Preenche t√≠tulo, descri√ß√£o, categoria e tipo (upload ou link).
3. Submete a entrega.
4. Entrega fica dispon√≠vel para professores e para o pr√≥prio aluno.
5. Professor acessa, avalia e fornece feedback.
6. Aluno visualiza feedbacks nas entregas realizadas.
```

---

# üîó Diagrama de Sequ√™ncia ‚Äì Forma√ß√£o de Times

```plaintext
Ator Professor ‚Üí Interface ‚Üí Backend ‚Üí Banco de Dados

1. Professor acessa a tela de levantamento de prefer√™ncias.
2. Interface solicita status de preenchimento ‚Üí Backend ‚Üí Banco ‚Üí Retorna status.
3. Professor clica em "Formar Times".
4. Backend executa algoritmo de forma√ß√£o baseado nas prefer√™ncias ‚Üí Consulta Banco.
5. Banco retorna dados dos alunos e prefer√™ncias.
6. Backend grava os times gerados ‚Üí Banco.
7. Backend retorna times para a Interface.
8. Interface exibe lista dos times formados.
9. Professor pode ajustar (trocar alunos) ‚Üí Backend ‚Üí Atualiza Banco.
10. Professor confirma forma√ß√£o dos times ‚Üí Backend ‚Üí Atualiza status para "Confirmado" no Banco.
```

---

# üîó Diagrama de Sequ√™ncia ‚Äì Gest√£o de Entregas

```plaintext
Ator Aluno/Professor ‚Üí Interface ‚Üí Backend ‚Üí Banco de Dados

1. Aluno acessa "Realizar Entrega".
2. Preenche formul√°rio (parcial ou final).
3. Envia dados e arquivos/link ‚Üí Backend.
4. Backend valida e grava no Banco.
5. Entrega aparece na listagem do aluno e do professor.
6. Professor acessa a entrega ‚Üí Consulta Backend ‚Üí Banco ‚Üí Retorna dados e arquivos.
7. Professor avalia:
   a. Aprovar.
   b. Solicitar ajustes.
   c. Enviar feedback.
8. Backend atualiza status, coment√°rios e feedback ‚Üí Banco.
9. Aluno visualiza feedback na interface ‚Üí Consulta Banco via Backend.
```

---

# üó∫Ô∏è Diagrama Entidade-Relacionamento (ER)

![er_diagram_times_entregas](https://hackmd.io/_uploads/S10AcIgNxe.png)

| Entidade        | Relacionamento                                                    |
| --------------- | ----------------------------------------------------------------- |
| **Usu√°rio**     | 1:N com **Prefer√™ncia**, 1:N com **Entrega**, N:M com **Time**    |
| **Time**        | N:M com **Usu√°rio**, N:1 com **Projeto**                          |
| **Projeto**     | 1:N com **Time**, 1:N com **Entrega**                             |
| **Prefer√™ncia** | N:1 com **Usu√°rio**, N:1 com **Projeto**                          |
| **Entrega**     | N:1 com **Time**, N:1 com **Projeto**, N:1 com **Usu√°rio**        |

---

## üóÑÔ∏è Atributos principais por entidade

- **Usu√°rio**: id, nome, matr√≠cula, email, role
- **Projeto**: id, t√≠tulo, stakeholder, categoria
- **Time**: id, projeto_id, status, membros[]
- **Prefer√™ncia**: id, usuario_id, projeto_id, respostas[], status
- **Entrega**: id, time_id, projeto_id, usuario_id, tipo (parcial/final), categoria, t√≠tulo, descri√ß√£o, arquivo_ou_link, data_envio, status, feedback

---

# üîÑ Fluxo BPMN ‚Äì Forma√ß√£o de Times + Entregas

```plaintext
[In√≠cio]
  ‚Üì
[Coletar Prefer√™ncias dos Alunos]
  ‚Üì
[Formar Times Automaticamente]
  ‚Üí [Trocar membros manualmente?] ‚Üí Sim ‚Üí [Reorganizar membros]
                                       ‚Üì N√£o
  ‚Üì
[Confirmar Forma√ß√£o dos Times]
  ‚Üì
[In√≠cio das Entregas]
  ‚Üì
[Aluno Preenche Formul√°rio de Entrega]
  ‚Üì
[Submeter Entrega]
  ‚Üì
[Professor Avalia e D√° Feedback]
  ‚Üí [Solicitar Ajustes?] ‚Üí Sim ‚Üí [Aluno Refaz e Envia Novamente]
                              ‚Üì N√£o
  ‚Üì
[Fim]
```
